spring:
  cloud:
    gateway:
      server:
        webflux:
          globalcors:
            cors-configurations:
              '[/**]':
                          allowedOrigins: "http://localhost:4200"
                          allowedHeaders: "*"
                          allowedMethods:
                            - GET
                            - POST
                            - PUT
                            - DELETE




#  import org.springframework.context.annotation.Bean;
#  import org.springframework.context.annotation.Configuration;
#  import org.springframework.web.cors.CorsConfiguration;
#  import org.springframework.web.cors.reactive.CorsWebFilter;
#  import org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;
#
#  import java.util.Arrays;
#
#  @Configuration
#  public class CorsConfig {
#
#  @Bean
#  public CorsWebFilter corsWebFilter() {
#  CorsConfiguration corsConfiguration = new CorsConfiguration();
#  // Basé sur votre configuration actuelle dans application.yml
#  corsConfiguration.setAllowedOrigins(Arrays.asList("http://localhost:4200"));
#  corsConfiguration.setAllowedHeaders(Arrays.asList("*"));
#  corsConfiguration.setAllowedMethods(Arrays.asList("GET", "POST", "PUT", "DELETE", "OPTIONS"));
#  corsConfiguration.setAllowCredentials(true); // Souvent nécessaire avec Angular
#
#  UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
#  source.registerCorsConfiguration("/**", corsConfiguration);
#
#  return new CorsWebFilter(source);
#}
#}